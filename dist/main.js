!function(e){var t={};function a(l){if(t[l])return t[l].exports;var i=t[l]={i:l,l:!1,exports:{}};return e[l].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(l,i,function(t){return e[t]}.bind(null,i));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t){const a=480;var l=document.querySelector("#canvas");ctx=l.getContext("2d"),l.width=800,l.height=a;var i=!1,s=!1;gameData={backgroundColor:"#000000",plateColor:"gold",ballColor:"orangered",plateSpeed:40,scores:[0,0],scoreCounter:0,plateHeight:100,plateWidth:5,ballRadius:8,soundBounce:new Audio("../sounds/bounce.wav"),soundFail:new Audio("../sounds/fail.wav")};var o={38:"up",87:"up",40:"down",83:"down",37:"left",65:"left",39:"right",68:"right"};scoreManager={scores:[0,0],updateScore:e=>{gameData.scoreCounter=0,scoreManager.scores[e]+=1},renderScore:()=>{ctx.font="30px Montserrat",ctx.fillStyle="gold",ctx.fillText(scoreManager.scores[0],l.width/4,30),ctx.fillText(scoreManager.scores[1],l.width/4*3,30)}};class n{constructor(e,t,a,l){this.width=e,this.height=t,this.x=a,this.y=l}renderPlate(){ctx.fillStyle=gameData.plateColor,ctx.fillRect(this.x,this.y,this.width,this.height)}checkPlateBounds(){return this.y-gameData.plateHeight>=0||this.y+gameData.plateHeight<=l.height}movePlate(e,t){"up"==t?this.y-e-gameData.plateHeight>=0?this.y-=e:this.y=0:"down"==t&&(this.y+e+gameData.plateHeight<=l.height?this.y+=e:this.y=l.height-gameData.plateHeight)}controlPlate(e,t,l){l&&l.y+this.height<=a&&(this.y=l.y),t&&this.movePlate(e,t)}}class r{constructor(e,t,a,l,i,s,o="default"){this.x=e,this.y=t,this.radius=a,this.color=l,this.speedX=i,this.speedY=s,this.type=o}renderBall(){ctx.fillStyle=this.color,ctx.beginPath(),ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),ctx.fill()}setBallPos(e,t){this.x=e,this.y=t}setBallSpeed(e,t){this.speedX=e,this.speedY=t}moveBall(){this.x+this.speedX<l.width&&this.x+this.speedX>0?this.x+=this.speedX:"invisible"===this.type||("invisible"!=this.type&&(this.x+this.speedX>=l.width?scoreManager.updateScore(0):this.x+this.speedX<=gameComponents.plates[0].x+gameComponents.plates[1].width&&scoreManager.updateScore(1),d("fail")),this.x=l.width/2,this.y=l.height/2,this.speedX=this.speedY=0,setTimeout(()=>{Math.floor(Math.random());gameComponents.ball.speedX=-1*(Math.ceil(8*Math.random())+1),gameComponents.ball.speedY=Math.ceil(8*Math.random())+1},2e3)),this.y+this.speedY<l.height&&this.y+this.speedY>0?this.y+=this.speedY:this.speedY=-this.speedY}}class h{constructor(e,t){this.plate=e,this.realBall=t,this.invBall=new r(t.x,t.y,t.radius,"cyan",t.speedX,t.speedY,"invisible"),this.boost=!0,this.realBall.speedX<0&&(this.boost=!1)}render(){this.invBall.renderBall(),this.plate.renderPlate()}move(){this.boost||this.invBall.setBallSpeed(this.realBall.speedX,this.realBall.speedY),this.invBall.moveBall();let e="up";this.plate.y<this.invBall.y+this.plate.height/2&&(e="down"),this.plate.movePlate(5,e)}collision(e=!1){this.boost=e,e?this.invBall.setBallSpeed(1.2*this.realBall.speedX,1.2*this.realBall.speedY):(this.invBall.x=this.realBall.x,this.invBall.y=this.realBall.y,this.invBall.speedX=this.realBall.speedX,this.invBall.speedY=this.realBall.speedY),this.invBall.moveBall()}}const d=e=>{var t="sound"+e[0].toUpperCase()+e.slice(1);gameData[t].play()},p=()=>{document.addEventListener("keydown",e=>{if(s&&32==e.keyCode){const e=document.querySelector(".menu-box");if(!(i=!i))return c(),e.style.zIndex="500",void(e.style.opacity="1");e.style.zIndex="-10",e.style.opacity="0"}s&&i&&gameComponents.plates[0].controlPlate(gameData.plateSpeed,o[e.keyCode])}),document.querySelector(".btn-start").addEventListener("click",e=>{e.target.style.zIndex="-100",e.target.style.opacity="0",l.style.border="1px solid lightgrey",i=!0,s=!0}),l.addEventListener("mousemove",e=>{const t=l.getBoundingClientRect(),a={x:e.clientX-t.left,y:e.clientY-t.top};gameComponents.plates[0].controlPlate(null,null,a)})},c=()=>{ctx.clearRect(0,0,l.width,l.height),ctx.fillStyle=gameData.backgroundColor,ctx.fillRect(0,0,l.width,l.height),i&&(ctx.fillStyle="lightgrey",ctx.fillRect(l.width/2,0,1,l.height))},g=()=>{i&&(c(),scoreManager.renderScore(),(()=>{const e=gameComponents.plates[0],t=gameComponents.plates[1],a=gameComponents.ball;a.x-a.radius<e.x+e.width&&a.y<e.y+e.height&&a.y>e.y&&(a.speedX=-a.speedX,d("bounce"),gameComponents.ai.collision(!0),gameData.scoreCounter+=1),a.x>t.x-t.width&&a.y<t.y+t.height&&a.y>t.y&&(a.speedX=-a.speedX,gameComponents.ai.collision(),d("bounce"))})(),gameComponents.plates[0].renderPlate(),gameComponents.ball.moveBall(),gameComponents.ai.move(),gameComponents.ai.render(),gameComponents.ball.renderBall())};!function(){p(),this.gameComponents=function(){let e={plates:[new n(gameData.plateWidth,gameData.plateHeight,0,l.height/2),new n(gameData.plateWidth,gameData.plateHeight,l.width-gameData.plateWidth,l.height/4)],ball:new r(l.width/2,l.height/2,gameData.ballRadius,gameData.ballColor,-5,5)},t=new h(e.plates[1],e.ball);return e.ai=t,e}(),c(),this.interval=setInterval(g,16.6667)}()}]);